# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω—å

## –Ø–∫ –ø—Ä–∞—Ü—é—î –∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è

1. –î–æ–¥–∞—Ç–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥–∏ –ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É
2. –Ø–∫—â–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–µ, –∑'—è–≤–ª—è—î—Ç—å—Å—è –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –≤ –ø—Ä–∞–≤–æ–º—É –Ω–∏–∂–Ω—å–æ–º—É –∫—É—Ç—ñ
3. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ:
   - –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞—Ä–∞–∑
   - –í—ñ–¥–∫–ª–∞—Å—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è ("–ü—ñ–∑–Ω—ñ—à–µ")
4. –ü—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç (—á–µ—Ä–µ–∑ GitHub Actions) ‚ö°

### 1. –°—Ç–≤–æ—Ä—ñ—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

–°—Ç–≤–æ—Ä—ñ—Ç—å –ø—É–±–ª—ñ—á–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–∞ GitHub.

### 2. –û–Ω–æ–≤—ñ—Ç—å package.json

–ó–∞–º—ñ–Ω—ñ—Ç—å –≤ `package.json` —Å–µ–∫—Ü—ñ—é `build.publish`:

```json
"publish": {
  "provider": "github",
  "owner": "–≤–∞—à-—é–∑–µ—Ä–Ω–µ–π–º",
  "repo": "littlebit-launcher"
}
```

### 3. –£–≤—ñ–º–∫–Ω—ñ—Ç—å permissions –≤ GitHub

1. Settings ‚Üí Actions ‚Üí General
2. "Workflow permissions" ‚Üí "Read and write permissions"
3. –ó–±–µ—Ä–µ–∂—ñ—Ç—å

### 4. Push –∫–æ–¥

```bash
git add .
git commit -m "Initial commit"
git push origin master
```

### 5. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ä–µ–ª—ñ–∑

```bash
# –û–Ω–æ–≤—ñ—Ç—å –≤–µ—Ä—Å—ñ—é
pnpm version 1.0.0

# Push –∑ —Ç–µ–≥–æ–º
git push origin master --tags
```

**–ì–æ—Ç–æ–≤–æ!** üéâ GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä–µ –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è Windows, macOS, Linux —ñ —Å—Ç–≤–æ—Ä–∏—Ç—å Release.

### 6. –ù–∞—Å—Ç—É–ø–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
pnpm version patch   # 1.0.0 ‚Üí 1.0.1
git push origin master --tags
```

## –©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º

### GitHub Actions Workflow

–§–∞–π–ª: `.github/workflows/release.yml`

–í—ñ–Ω –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ push —Ç–µ–≥–∞ `v*.*.*` —ñ:
- ‚úÖ –ó–±–∏—Ä–∞—î –Ω–∞ 3 –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ (Windows, macOS, Linux)
- ‚úÖ –ü—É–±–ª—ñ–∫—É—î –≤ GitHub Releases
- ‚úÖ –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Ç–æ–∫–µ–Ω–∏ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤–±—É–¥–æ–≤–∞–Ω–∏–π `GITHUB_TOKEN`)
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –≤—Å—ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ: [RELEASE.md](./RELEASE.md)

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ

–ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î **—Ç—ñ–ª—å–∫–∏ –≤ –∑—ñ–±—Ä–∞–Ω–æ–º—É –¥–æ–¥–∞—Ç–∫—É**, –Ω–µ –≤ dev —Ä–µ–∂–∏–º—ñ.

### –õ–æ–∫–∞–ª—å–Ω–∞ –∑–±—ñ—Ä–∫–∞:

```bash
pnpm build
pnpm dist
```

–§–∞–π–ª–∏ –±—É–¥—É—Ç—å –≤ `release/X.X.X/`

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∏

### AWS S3
```json
"publish": {
  "provider": "s3",
  "bucket": "your-bucket",
  "region": "us-east-1"
}
```

### –í–ª–∞—Å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä
```json
"publish": {
  "provider": "generic",
  "url": "https://your-server.com/releases"
}
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è UI

### –í—ñ–¥–∫–ª—é—á–∏—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É

–í `src/main/index.ts`:
```typescript
// –í—ñ–¥–∫–ª—é—á–∏—Ç–∏ –∞–≤—Ç–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫—É
// if (app.isPackaged) {
//   setTimeout(() => {
//     autoUpdater.checkForUpdates();
//   }, 3000);
// }
```

### –î–æ–¥–∞—Ç–∏ –∫–Ω–æ–ø–∫—É "–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è"

```typescript
const checkUpdates = async () => {
  const result = await window.electronAPI.checkForUpdates();
  console.log(result);
};
```

## Troubleshooting

### "Updates only work in packaged app"
–û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å —Ç—ñ–ª—å–∫–∏ –≤ –∑—ñ–±—Ä–∞–Ω–æ–º—É –¥–æ–¥–∞—Ç–∫—É, –Ω–µ –≤ `pnpm dev`

### "No published versions on GitHub"
–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ:
1. ‚úÖ GitHub Actions —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞–≤—Å—è
2. ‚úÖ –°—Ç–≤–æ—Ä–∏–≤—Å—è GitHub Release
3. ‚úÖ –í–µ—Ä—Å—ñ—è –≤ package.json **–º–µ–Ω—à–∞** –∑–∞ –≤–µ—Ä—Å—ñ—é –Ω–∞ GitHub

### GitHub Actions –Ω–µ –∑–∞–ø—É—Å—Ç–∏–≤—Å—è
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
1. Settings ‚Üí Actions ‚Üí "Allow all actions and reusable workflows"
2. Workflow permissions: "Read and write permissions"
3. –¢–µ–≥ –º–∞—î —Ñ–æ—Ä–º–∞—Ç `v*.*.*` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `v1.0.0`)

### Build failed –≤ Actions
–î–∏–≤—ñ—Ç—å—Å—è –ª–æ–≥–∏ –≤ Actions tab. –ß–∞—Å—Ç—ñ –ø—Ä–æ–±–ª–µ–º–∏:
- –ü–æ–º–∏–ª–∫–∏ TypeScript ‚Üí `pnpm type-check`
- –í—ñ–¥—Å—É—Ç–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ ‚Üí `pnpm install`

### "Invalid signature" (macOS)
–ù–∞ macOS –¥–ª—è production –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—ñ–¥–ø–∏—Å–∞—Ç–∏. –î–æ–¥–∞–π—Ç–µ:
```json
"mac": {
  "identity": "Developer ID Application: Your Name (TEAM_ID)"
}
```

–ê–±–æ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ –ø—ñ–¥–ø–∏—Å—É:
```json
"mac": {
  "identity": null
}
```
